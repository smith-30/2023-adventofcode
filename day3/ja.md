あなたとエルフはやがてゴンドラ・リフト乗り場に着く。彼はゴンドラ・リフトで水源まで行けると言うが、彼が連れて行けるのはここまでだ。あなたは中に入る。

ゴンドラを見つけるのに時間はかからなかったが、問題があるようだ。

「動いていないのだ。

振り向くと、少し脂ぎったエルフがスパナを持って驚いた顔をしている。
"すみません、誰も来るとは思っていませんでした！ゴンドラのリフトは今動いていないんだ。あなたは手伝うよう申し出た。

エンジニアは、エンジンの部品が一つ足りないようだと説明するが、どれがどれだか誰もわからない。
エンジンの回路図にある部品番号をすべて足し合わせれば、どの部品が欠けているか簡単にわかるはずだ。

エンジンの回路図（パズルの入力）は、エンジンの視覚的表現で構成されています。
よくわからない数字や記号がたくさんありますが、どうやら記号に斜めにでも隣接する数字は「部品番号」であり、合計に含める必要があるようです。
(ピリオド(.)は記号としてカウントされない）。

以下はエンジン回路図の例である：

```
467..114..
...*......
..35..633.
......#...
617*......
.....+.58.
..592.....
......755.
...$.*....
.664.598..
```

この回路図では、2つの番号はシンボルに隣接していないため、部品番号ではない： 114（右上）と58（右中）である。
それ以外の数字は記号に隣接しているので部品番号であり、それらの合計は4361である。

もちろん、実際のエンジン回路図はもっと大きい。エンジン回路図のすべての部品番号の合計は？


--- Part Two ----


エンジニアが足りない部品を見つけ、エンジンに取り付ける！エンジンが動き出すと、あなたは一番近いゴンドラに飛び乗る。

しかし、あまりスピードが出ていないようだ。まだ何か問題があるのだろうか？
幸い、ゴンドラには「ヘルプ」と書かれた電話が付いているので、それを取るとエンジニアが出た。

あなたが状況を説明する前に、彼女は窓の外を見るように勧める。
そこには片手に電話を持ち、もう片方の手で手を振るエンジニアが立っていた。あなたはまだ駅を出ていないようだ。あなたはゴンドラを降りた。

部品の欠落だけが問題ではなかった。エンジンのギアのひとつが間違っていたのだ。
ギアとは、ちょうど2つの部品番号に隣接する*記号のことだ。その2つの数字を掛け合わせたものがギア比となる。

今回は、エンジニアがどのギアを交換する必要があるか分かるように、すべてのギアのギア比を求め、それらをすべて合計する必要があります。

同じエンジンの回路図をもう一度考えてみましょう。

```
467..114..
...*......
..35..633.
......#...
617*......
.....+.58.
..592.....
......755.
...$.*....
.664.598..
```

この回路図では、2つのギアがある。最初のギアは左上にあり、部品番号は467と35なので、ギア比は16345である。
2番目の歯車は右下にあり、その歯車比は451490である。(617に隣接する*は、1つの部品番号に隣接しているだけなので、ギアではない。) 
すべてのギア比を足すと467835となる。

あなたのエンジンの回路図にあるすべてのギア比の合計は何ですか？